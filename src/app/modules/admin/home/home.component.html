<div class="page-container-full animated fadeIn">

  <div class="xl my-4 text-accent">
    <span class="mdi mdi-hand mr-2"></span>
    Hola {{ loginService?.user.tx_name }}
  </div>

  <div class="minicards-content">

    <div>
      <!-- WIZARD LINK -->
      <mat-card class="saturno-minicard text-left mb-2 mx-1 pointer" routerLink="/admin/wizard">

        <div class="text-accent text-left md">
          <span class="mdi mdi-wizard-hat mr-2"></span> Wizard
        </div>

        <div class="saturno-minicard-text">
          <div
            *ngIf="adminService.companies.length === 0 || adminService.sections.length === 0 || adminService.tables.length === 0">

            <div class="mdi mdi-close-circle-outline text-danger text-center xxxxl"></div>
            <div>
              La empresa seleccionada no tiene los sectores y mesas necesarias para gestionar clientes.
              Usá este pequeño asistente que te ayudará paso a paso en el proceso de crear bares o restaurantes,
              sectores, mesas, camareros/as y todo lo necesario para atender a tus clientes.
            </div>

          </div>

          <div
            *ngIf="adminService.companies.length > 0 && adminService.sections.length > 0 && adminService.tables.length > 0">

            <div class="mdi mdi-check-circle-outline text-success text-center xxxxl"></div>
            <div>
              La empresa seleccionada tiene sectores y mesas creadas para comenzar a recibir clientes. Podés
              usar este pequeño asistente para modificarlos o crear mas mesas, sectores o camareros.
            </div>

          </div>
        </div>

      </mat-card>

      <!-- TOMAR SECTOR -->

      <mat-card class="saturno-minicard text-left mb-2 mx-1 pointer" routerLink="/waiter/home" *ngIf="
  adminService.companies.length > 0 && 
  adminService.sections.length > 0 &&
  adminService.tables.length > 0">

        <div class="text-accent md">
          <span class="mdi mdi-select-group mr-2"></span> Ir a un sector
        </div>

        <div class="saturno-minicard-text">
          Desde acá podés tomar un sector, gestionar tus mesas y ateneder a tus clientes.
        </div>

      </mat-card>

      <!-- COMPANY TABLE INFO -->

      <mat-card class="saturno-minicard text-left mb-2 mx-1 pointer" routerLink="/admin/wizard">

        <div class="text-accent text-left md">
          <span class="mdi mdi-storefront mr-2"></span> {{ this.loginService.user.id_company?.tx_company_name || 'No
          creaste ningún comercio' }}
        </div>

        <mat-card-content>

          <div class="table-responsive-sm mt-2">
            <table class="table-sm mb-0 saturno-minicard-text text-center">

              <tr>
                <td style="text-align: left;">
                  <span class="mdi mdi-storefront mr-2"></span>
                  Bares / Restaurantes
                  <span *ngIf="adminService.companies.length > 0" class="mdi mdi-check text-success"></span>
                  <span *ngIf="adminService.companies.length === 0" class="mdi mdi-alert text-danger"></span>
                </td>
                <td style="text-align: right;">
                  {{ adminService.companies.length }}
                </td>
              </tr>

              <tr>
                <td style="text-align: left;">
                  <span class="mdi mdi-select-group mr-2"></span>
                  Sectores
                  <span *ngIf="adminService.sections.length > 0" class="mdi mdi-check text-success"></span>
                  <span *ngIf="adminService.sections.length === 0" class="mdi mdi-alert text-danger"></span>
                </td>
                <td style="text-align: right;">
                  {{ adminService.sections.length }}
                </td>
              </tr>

              <tr>
                <td style="text-align: left;">
                  <span class="mdi mdi-silverware-fork-knife mr-2"></span>
                  Mesas
                  <span *ngIf="adminService.tables.length > 0" class="mdi mdi-check text-success"></span>
                  <span *ngIf="adminService.tables.length === 0" class="mdi mdi-alert text-danger"></span>
                </td>
                <td style="text-align: right;">
                  {{ adminService.tables.length }}
                </td>
              </tr>
            </table>

            <div *ngIf="
  adminService.companies.length === 0 || 
  adminService.sections.length === 0 ||
  adminService.tables.length === 0" class="pointer sm p-2 mt-2">
              Faltan crear elementos para la empresa seleccionada por favor hacé click en <span
                routerLink="/admin/wizard">"Iniciar el Asistente"</span>
              para crear todo lo necesario.
            </div>

          </div>
        </mat-card-content>

      </mat-card>

    </div>

    <div>
      <!-- SETTINGS -->

      <mat-card class="saturno-minicard text-left mb-2 mx-1 pointer" routerLink="/admin/settings">

        <div class="text-accent md">
          <span class="mdi mdi-cog mr-2"></span> Ajustes
        </div>

        <mat-card-content>

          <div class="table-responsive-sm mt-2">
            <table class="table-sm mb-0 saturno-minicard-text text-center">

              <tr>
                <td style="text-align: left;">
                  <span class="mdi mdi-gesture-double-tap mr-2"></span>
                  Asig. Auto. Mesas
                  <span *ngIf="adminService.companies.length > 0" class="mdi mdi-check text-success"></span>
                  <span *ngIf="adminService.companies.length === 0" class="mdi mdi-alert text-danger"></span>
                </td>
                <td style="text-align: right;">
                  <span *ngIf="adminService.settings?.bl_spm_auto">Activado</span>
                  <span *ngIf="!adminService.settings?.bl_spm_auto">Desactivado</span>

                </td>
              </tr>


            </table>

          </div>
        </mat-card-content>

      </mat-card>

      <!-- ADMIN & WAITERS -->

      <mat-card class="saturno-minicard text-left mb-2 mx-1" *ngIf="loginService.user.id_company">

        <div class="text-accent md">
          <span class="mdi mdi-shield-star mr-2"></span> Administradores y Camareros/as
        </div>

        <div class="my-1">
          Para gestionar mesas y turnos sólo tenés que ir al menú de Camarero/a y tomar
          un sector.
        </div>

      </mat-card>

      <!-- CLIENTS -->

      <mat-card class="saturno-minicard text-left mb-2 mx-1">

        <div class="text-accent md">
          <span class="mdi mdi-account mr-2"></span> Clientes
        </div>

        <div class="m-1">
          Tus clientes tienen que entrar en la web saturno.fun y buscar tu Bar / Restaruant.
        </div>

        <a class="m-1 sm" target="_blank" href="https://saturno.fun">
          https://saturno.fun
        </a>

        <div class="m-1">
          También puede usar un link o acceso directo a tu comercio en:
        </div>


        <a class="m-1 sm" target="_blank"
          href="https://saturno.fun/public/{{loginService.user.id_company?.tx_company_string || 'nombredetucomercio'}}">
          https://saturno.fun/public/{{loginService.user.id_company?.tx_company_string || 'nombredetucomercio'}}
        </a>

      </mat-card>

      <!-- QR CODE -->

      <mat-card class="saturno-minicard text-left mb-2 mx-1" *ngIf="loginService.user.id_company?.tx_company_string">

        <div class="text-accent md">
          <span class="mdi mdi-qrcode mr-2"></span> QR
        </div>

        <div class="m-1">
          Podés imprimir este código QR de acceso a tu web y pegarlo en tu comercio:
        </div>

        <div class="m-1 text-center my-4">
          <qrcode qrdata="https://saturno.fun/public/{{loginService.user.id_company?.tx_company_string || 'nombredetucomercio'}}" [width]="256"
            [errorCorrectionLevel]="'M'"></qrcode>
        </div>

      </mat-card>

    </div>

  </div>

</div>